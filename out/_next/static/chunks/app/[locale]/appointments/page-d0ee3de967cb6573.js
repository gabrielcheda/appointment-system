(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[808],{3931:function(e,s,t){Promise.resolve().then(t.bind(t,5452))},5452:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return h}});var a=t(7437),l=t(2265),n=t(1930),r=t(9397),c=t(3247),i=t(740),d=t(1047),o=t(1723);let x=(0,t(9205).Z)("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);var m=t(2369),u=t(7648);function h(){let[e,s]=(0,l.useState)([]),[t,h]=(0,l.useState)([]),[p,j]=(0,l.useState)(""),[f,g]=(0,l.useState)("all"),[v,y]=(0,l.useState)("all");(0,l.useEffect)(()=>{let e=n.Q7.map(e=>({...e,patient:n.jf.find(s=>s.id===e.patientId),professional:n.cU.find(s=>s.id===e.professionalId)}));s(e),h(e)},[]),(0,l.useEffect)(()=>{let s=[...e];p&&(s=s.filter(e=>{var s,t,a;return(null===(s=e.patient)||void 0===s?void 0:s.firstName.toLowerCase().includes(p.toLowerCase()))||(null===(t=e.patient)||void 0===t?void 0:t.lastName.toLowerCase().includes(p.toLowerCase()))||(null===(a=e.professional)||void 0===a?void 0:a.name.toLowerCase().includes(p.toLowerCase()))})),"all"!==f&&(s=s.filter(e=>e.status===f));let t=new Date;t.setHours(0,0,0,0),"today"===v?s=s.filter(e=>{let s=new Date(e.date);return s.setHours(0,0,0,0),s.getTime()===t.getTime()}):"upcoming"===v?s=s.filter(e=>new Date(e.date)>t):"past"===v&&(s=s.filter(e=>new Date(e.date)<t)),s.sort((e,s)=>{let t=new Date(s.date).getTime()-new Date(e.date).getTime();return 0!==t?t:s.startTime.localeCompare(e.startTime)}),h(s)},[p,f,v,e]);let N=e=>{let s={scheduled:{color:"badge-gray",label:"Agendado"},confirmed:{color:"badge-success",label:"Confirmado"},"in-progress":{color:"badge-primary",label:"Em Andamento"},completed:{color:"badge-success",label:"Conclu\xeddo"},cancelled:{color:"badge-danger",label:"Cancelado"},"no-show":{color:"badge-warning",label:"Faltou"}},t=s[e]||s.scheduled;return(0,a.jsx)("span",{className:"badge ".concat(t.color),children:t.label})};return(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Agendamentos"}),(0,a.jsx)("p",{className:"text-gray-500 mt-1",children:"Gerencie todas as consultas"})]}),(0,a.jsxs)(u.default,{href:"/appointments/new",className:"btn btn-primary flex items-center space-x-2",children:[(0,a.jsx)(r.Z,{className:"w-5 h-5"}),(0,a.jsx)("span",{children:"Nova Consulta"})]})]}),(0,a.jsx)("div",{className:"card mb-6",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Buscar"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(c.Z,{className:"w-5 h-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),(0,a.jsx)("input",{type:"text",value:p,onChange:e=>j(e.target.value),placeholder:"Paciente ou profissional...",className:"input pl-10"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),(0,a.jsxs)("select",{value:f,onChange:e=>g(e.target.value),className:"input",children:[(0,a.jsx)("option",{value:"all",children:"Todos"}),(0,a.jsx)("option",{value:"scheduled",children:"Agendado"}),(0,a.jsx)("option",{value:"confirmed",children:"Confirmado"}),(0,a.jsx)("option",{value:"in-progress",children:"Em Andamento"}),(0,a.jsx)("option",{value:"completed",children:"Conclu\xeddo"}),(0,a.jsx)("option",{value:"cancelled",children:"Cancelado"}),(0,a.jsx)("option",{value:"no-show",children:"Faltou"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Per\xedodo"}),(0,a.jsxs)("select",{value:v,onChange:e=>y(e.target.value),className:"input",children:[(0,a.jsx)("option",{value:"all",children:"Todos"}),(0,a.jsx)("option",{value:"today",children:"Hoje"}),(0,a.jsx)("option",{value:"upcoming",children:"Pr\xf3ximos"}),(0,a.jsx)("option",{value:"past",children:"Passados"})]})]}),(0,a.jsx)("div",{className:"flex items-end",children:(0,a.jsxs)("button",{className:"btn btn-secondary w-full flex items-center justify-center space-x-2",children:[(0,a.jsx)(i.Z,{className:"w-5 h-5"}),(0,a.jsx)("span",{children:"Mais Filtros"})]})})]})}),(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[(0,a.jsxs)("div",{className:"card",children:[(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Total"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:t.length})]}),(0,a.jsxs)("div",{className:"card",children:[(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Confirmados"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-success-600",children:t.filter(e=>"confirmed"===e.status).length})]}),(0,a.jsxs)("div",{className:"card",children:[(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Pendentes"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-warning-600",children:t.filter(e=>"scheduled"===e.status).length})]}),(0,a.jsxs)("div",{className:"card",children:[(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Cancelados"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-danger-600",children:t.filter(e=>"cancelled"===e.status).length})]})]}),(0,a.jsx)("div",{className:"card",children:(0,a.jsx)("div",{className:"space-y-3",children:0===t.length?(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)(d.Z,{className:"w-16 h-16 mx-auto text-gray-300 mb-4"}),(0,a.jsx)("p",{className:"text-gray-500",children:"Nenhum agendamento encontrado"})]}):t.map(e=>{var s,t,l,n;return(0,a.jsx)("div",{className:"p-4 rounded-lg border border-gray-200 hover:border-primary-300 hover:bg-primary-50 transition-all",children:(0,a.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,a.jsx)("div",{className:"w-1 h-full rounded",style:{backgroundColor:(null===(s=e.professional)||void 0===s?void 0:s.color)||"#3B82F6"}}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h3",{className:"font-semibold text-gray-900",children:[null===(t=e.patient)||void 0===t?void 0:t.firstName," ",null===(l=e.patient)||void 0===l?void 0:l.lastName]}),(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:[null===(n=e.professional)||void 0===n?void 0:n.name," â€¢ ",e.specialty]})]}),N(e.status)]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3 text-sm text-gray-600",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(d.Z,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:new Date(e.date).toLocaleDateString("pt-BR",{day:"2-digit",month:"short",year:"numeric"})})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(o.Z,{className:"w-4 h-4"}),(0,a.jsxs)("span",{children:[e.startTime," - ",e.endTime]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(x,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:e.room})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(m.Z,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:"first-visit"===e.type?"Primeira Consulta":"Retorno"})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between mt-3 pt-3 border-t border-gray-200",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("span",{className:"text-sm text-gray-500",children:"Valor:"}),(0,a.jsxs)("span",{className:"text-sm font-semibold text-gray-900",children:["R$ ",e.price.toFixed(2)]}),e.isPaid&&(0,a.jsx)("span",{className:"badge badge-success text-xs",children:"Pago"})]}),(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsx)("button",{className:"text-sm text-primary-600 hover:text-primary-700 font-medium",children:"Ver Detalhes"}),"scheduled"===e.status&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{className:"text-gray-300",children:"|"}),(0,a.jsx)("button",{className:"text-sm text-success-600 hover:text-success-700 font-medium",children:"Confirmar"}),(0,a.jsx)("span",{className:"text-gray-300",children:"|"}),(0,a.jsx)("button",{className:"text-sm text-danger-600 hover:text-danger-700 font-medium",children:"Cancelar"})]})]})]})]})]})},e.id)})})})]})}},1047:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(9205).Z)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},1723:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(9205).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},740:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(9205).Z)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]])},9397:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(9205).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},3247:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(9205).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},2369:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(9205).Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])}},function(e){e.O(0,[216,930,971,117,744],function(){return e(e.s=3931)}),_N_E=e.O()}]);