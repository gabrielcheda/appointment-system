(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[343],{833:function(e,t,s){Promise.resolve().then(s.bind(s,9087))},9087:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return m}});var a=s(7437),n=s(2265),r=s(1930),l=s(9397),i=s(2451),c=s(407),d=s(740),o=s(7648);function m(){let[e,t]=(0,n.useState)("month"),[s,m]=(0,n.useState)(new Date),[x,h]=(0,n.useState)(null),[g,u]=(0,n.useState)([]);(0,n.useEffect)(()=>{u(r.Q7.map(e=>({...e,patient:r.jf.find(t=>t.id===e.patientId),professional:r.cU.find(t=>t.id===e.professionalId)})))},[]);let p=e=>g.filter(t=>{let s=new Date(t.date);return s.getDate()===e.getDate()&&s.getMonth()===e.getMonth()&&s.getFullYear()===e.getFullYear()}),f=s.toLocaleDateString("pt-BR",{month:"long",year:"numeric"}),y=(e=>{let t=e.getFullYear(),s=e.getMonth(),a=new Date(t,s,1),n=new Date(t,s+1,0).getDate(),r=a.getDay(),l=[];for(let e=0;e<r;e++){let a=new Date(t,s,-r+e+1);l.push({date:a,isCurrentMonth:!1})}for(let e=1;e<=n;e++)l.push({date:new Date(t,s,e),isCurrentMonth:!0});let i=42-l.length;for(let e=1;e<=i;e++)l.push({date:new Date(t,s+1,e),isCurrentMonth:!1});return l})(s);return(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Calend\xe1rio"}),(0,a.jsx)("p",{className:"text-gray-500 mt-1 capitalize",children:f})]}),(0,a.jsxs)(o.default,{href:"/appointments/new",className:"btn btn-primary flex items-center space-x-2",children:[(0,a.jsx)(l.Z,{className:"w-5 h-5"}),(0,a.jsx)("span",{children:"Nova Consulta"})]})]}),(0,a.jsx)("div",{className:"card mb-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("button",{onClick:()=>{"month"===e?m(new Date(s.getFullYear(),s.getMonth()-1,1)):"week"===e?m(new Date(s.getTime()-6048e5)):m(new Date(s.getTime()-864e5))},className:"p-2 hover:bg-gray-100 rounded-lg",children:(0,a.jsx)(i.Z,{className:"w-5 h-5"})}),(0,a.jsx)("button",{onClick:()=>{m(new Date)},className:"btn btn-secondary",children:"Hoje"}),(0,a.jsx)("button",{onClick:()=>{"month"===e?m(new Date(s.getFullYear(),s.getMonth()+1,1)):"week"===e?m(new Date(s.getTime()+6048e5)):m(new Date(s.getTime()+864e5))},className:"p-2 hover:bg-gray-100 rounded-lg",children:(0,a.jsx)(c.Z,{className:"w-5 h-5"})})]}),(0,a.jsx)("h2",{className:"text-xl font-semibold text-gray-900 capitalize",children:f})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsxs)("button",{className:"btn btn-secondary flex items-center space-x-2",children:[(0,a.jsx)(d.Z,{className:"w-5 h-5"}),(0,a.jsx)("span",{children:"Filtros"})]}),(0,a.jsxs)("div",{className:"flex items-center bg-gray-100 rounded-lg p-1",children:[(0,a.jsx)("button",{onClick:()=>t("month"),className:"px-4 py-2 rounded-md text-sm font-medium transition-colors ".concat("month"===e?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"),children:"M\xeas"}),(0,a.jsx)("button",{onClick:()=>t("week"),className:"px-4 py-2 rounded-md text-sm font-medium transition-colors ".concat("week"===e?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"),children:"Semana"}),(0,a.jsx)("button",{onClick:()=>t("day"),className:"px-4 py-2 rounded-md text-sm font-medium transition-colors ".concat("day"===e?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"),children:"Dia"})]})]})]})}),"month"===e&&(0,a.jsxs)("div",{className:"card",children:[(0,a.jsx)("div",{className:"grid grid-cols-7 gap-px mb-2 bg-gray-200 rounded-t-lg overflow-hidden",children:["Dom","Seg","Ter","Qua","Qui","Sex","S\xe1b"].map(e=>(0,a.jsx)("div",{className:"bg-gray-50 p-3 text-center",children:(0,a.jsx)("span",{className:"text-sm font-semibold text-gray-700",children:e})},e))}),(0,a.jsx)("div",{className:"grid grid-cols-7 gap-px bg-gray-200",children:y.map((e,t)=>{let s=p(e.date),n=e.date.getDate()===new Date().getDate()&&e.date.getMonth()===new Date().getMonth()&&e.date.getFullYear()===new Date().getFullYear();return(0,a.jsxs)("div",{className:"bg-white min-h-[120px] p-2 ".concat(e.isCurrentMonth?"":"opacity-50"," ").concat(n?"bg-primary-50":""," hover:bg-gray-50 cursor-pointer transition-colors"),onClick:()=>h(e.date),children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)("span",{className:"text-sm font-semibold ".concat(n?"w-6 h-6 bg-primary-600 text-white rounded-full flex items-center justify-center":e.isCurrentMonth?"text-gray-900":"text-gray-400"),children:e.date.getDate()}),s.length>0&&(0,a.jsx)("span",{className:"text-xs bg-primary-100 text-primary-700 px-2 py-0.5 rounded-full",children:s.length})]}),(0,a.jsxs)("div",{className:"space-y-1",children:[s.slice(0,3).map(e=>{var t,s,n;return(0,a.jsx)("div",{className:"text-xs p-1 rounded",style:{backgroundColor:(null===(t=e.professional)||void 0===t?void 0:t.color)+"20",borderLeft:"2px solid ".concat(null===(s=e.professional)||void 0===s?void 0:s.color)},children:(0,a.jsxs)("p",{className:"font-medium truncate",children:[e.startTime," ",null===(n=e.patient)||void 0===n?void 0:n.firstName]})},e.id)}),s.length>3&&(0,a.jsxs)("p",{className:"text-xs text-gray-500 pl-1",children:["+",s.length-3," mais"]})]})]},t)})})]}),"day"===e&&(0,a.jsxs)("div",{className:"card",children:[(0,a.jsx)("div",{className:"mb-4",children:(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:s.toLocaleDateString("pt-BR",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})}),(0,a.jsx)("div",{className:"space-y-2",children:Array.from({length:14},(e,t)=>7+t).map(e=>{let t="".concat(e.toString().padStart(2,"0"),":00"),n=p(s).filter(t=>t.startTime.startsWith(e.toString().padStart(2,"0")));return(0,a.jsxs)("div",{className:"flex border-b border-gray-200",children:[(0,a.jsx)("div",{className:"w-20 flex-shrink-0 text-sm text-gray-500 py-2",children:t}),(0,a.jsx)("div",{className:"flex-1 min-h-[60px] p-2",children:n.map(e=>{var t,s,n,r,l;return(0,a.jsx)("div",{className:"p-3 rounded-lg mb-2",style:{backgroundColor:(null===(t=e.professional)||void 0===t?void 0:t.color)+"20",borderLeft:"4px solid ".concat(null===(s=e.professional)||void 0===s?void 0:s.color)},children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("p",{className:"font-semibold text-gray-900",children:[null===(n=e.patient)||void 0===n?void 0:n.firstName," ",null===(r=e.patient)||void 0===r?void 0:r.lastName]}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:null===(l=e.professional)||void 0===l?void 0:l.name}),(0,a.jsxs)("p",{className:"text-sm text-gray-500",children:[e.startTime," - ",e.endTime," â€¢ ",e.room]})]}),(0,a.jsx)("span",{className:"badge ".concat("confirmed"===e.status?"badge-success":"cancelled"===e.status?"badge-danger":"badge-gray"),children:"confirmed"===e.status?"Confirmado":"cancelled"===e.status?"Cancelado":"Agendado"})]})},e.id)})})]},e)})})]}),"week"===e&&(0,a.jsx)("div",{className:"card",children:(0,a.jsx)("p",{className:"text-center text-gray-500 py-12",children:"Visualiza\xe7\xe3o de semana em desenvolvimento"})}),(0,a.jsxs)("div",{className:"card mt-6",children:[(0,a.jsx)("h3",{className:"font-semibold text-gray-900 mb-3",children:"Profissionais"}),(0,a.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-3",children:r.cU.slice(0,10).map(e=>(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("div",{className:"w-4 h-4 rounded",style:{backgroundColor:e.color}}),(0,a.jsxs)("span",{className:"text-sm text-gray-700 truncate",children:[e.name.split(" ")[0]," ",e.name.split(" ")[e.name.split(" ").length-1]]})]},e.id))})]})]})}},2451:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(9205).Z)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]])},407:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(9205).Z)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},740:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(9205).Z)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]])},9397:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(9205).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])}},function(e){e.O(0,[216,930,971,117,744],function(){return e(e.s=833)}),_N_E=e.O()}]);