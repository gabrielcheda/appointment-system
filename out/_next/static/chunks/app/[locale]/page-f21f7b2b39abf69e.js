(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[61],{5331:function(e,t,s){Promise.resolve().then(s.bind(s,5676))},5676:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return y}});var a=s(7437),r=s(2265),l=s(1930),d=s(1047),i=s(5805),n=s(525),c=s(5252);let x=(0,s(9205).Z)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);var m=s(4401),o=s(1723),h=s(7648),g=s(8706),p=s(9376);function y(){let e=(0,g.T_)("dashboard"),t=(0,g.T_)("status"),s=(0,p.useParams)().locale,[y,u]=(0,r.useState)({totalToday:0,confirmed:0,pending:0,cancelled:0,revenue:0,inQueue:0}),[f,j]=(0,r.useState)([]),[N,w]=(0,r.useState)([]);(0,r.useEffect)(()=>{let e=new Date;e.setHours(0,0,0,0);let t=new Date(e);t.setHours(23,59,59,999);let s=l.Q7.filter(s=>{let a=new Date(s.date);return a>=e&&a<=t}),a=s.filter(e=>"confirmed"===e.status).length,r=s.filter(e=>"scheduled"===e.status).length,d=s.filter(e=>"cancelled"===e.status).length,i=s.filter(e=>e.isPaid).reduce((e,t)=>e+t.price,0);u({totalToday:s.length,confirmed:a,pending:r,cancelled:d,revenue:i,inQueue:l.eG.filter(e=>"waiting"===e.status).length}),j(s.map(e=>({...e,patient:l.jf.find(t=>t.id===e.patientId),professional:l.cU.find(t=>t.id===e.professionalId)})).sort((e,t)=>e.startTime.localeCompare(t.startTime)));let n=new Date(e);n.setDate(n.getDate()+1);let c=new Date(e);c.setDate(c.getDate()+7),w(l.Q7.filter(e=>{let t=new Date(e.date);return t>=n&&t<=c&&"cancelled"!==e.status}).map(e=>({...e,patient:l.jf.find(t=>t.id===e.patientId),professional:l.cU.find(t=>t.id===e.professionalId)})).sort((e,t)=>new Date(e.date).getTime()-new Date(t.date).getTime()).slice(0,5))},[]);let v=e=>{let s={scheduled:{color:"badge-gray",label:t("scheduled")},confirmed:{color:"badge-success",label:t("confirmed")},"in-progress":{color:"badge-primary",label:t("inProgress")},completed:{color:"badge-success",label:t("completed")},cancelled:{color:"badge-danger",label:t("cancelled")},"no-show":{color:"badge-warning",label:t("noShow")}},r=s[e]||s.scheduled;return(0,a.jsx)("span",{className:"badge ".concat(r.color),children:r.label})};return(0,a.jsxs)("div",{className:"space-y-4 md:space-y-6",children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900 dark:text-white",children:e("title")}),(0,a.jsx)("p",{className:"text-gray-500 dark:text-gray-400 mt-1 text-sm md:text-base",children:e("subtitle")})]}),(0,a.jsxs)(h.default,{href:"/".concat(s,"/appointments/new"),className:"btn btn-primary flex items-center justify-center space-x-2 w-full sm:w-auto",children:[(0,a.jsx)(d.Z,{className:"w-4 h-4 md:w-5 md:h-5"}),(0,a.jsx)("span",{className:"text-sm md:text-base",children:e("newAppointment")})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 md:gap-6",children:[(0,a.jsx)("div",{className:"card",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("p",{className:"text-xs md:text-sm font-medium text-gray-500 dark:text-gray-400",children:e("appointmentsToday")}),(0,a.jsx)("p",{className:"text-2xl md:text-3xl font-bold text-gray-900 dark:text-white mt-1 md:mt-2",children:y.totalToday}),(0,a.jsxs)("p",{className:"text-xs md:text-sm text-gray-500 dark:text-gray-400 mt-1",children:[y.confirmed," ",e("confirmed")]})]}),(0,a.jsx)("div",{className:"w-10 h-10 md:w-12 md:h-12 bg-primary-100 dark:bg-primary-900/30 rounded-lg flex items-center justify-center flex-shrink-0",children:(0,a.jsx)(d.Z,{className:"w-5 h-5 md:w-6 md:h-6 text-primary-600 dark:text-primary-400"})})]})}),(0,a.jsx)("div",{className:"card",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("p",{className:"text-xs md:text-sm font-medium text-gray-500 dark:text-gray-400",children:e("queue")}),(0,a.jsx)("p",{className:"text-2xl md:text-3xl font-bold text-gray-900 dark:text-white mt-1 md:mt-2",children:y.inQueue}),(0,a.jsx)("p",{className:"text-xs md:text-sm text-gray-500 dark:text-gray-400 mt-1",children:e("patientsWaiting")})]}),(0,a.jsx)("div",{className:"w-10 h-10 md:w-12 md:h-12 bg-warning-100 dark:bg-warning-900/30 rounded-lg flex items-center justify-center flex-shrink-0",children:(0,a.jsx)(i.Z,{className:"w-5 h-5 md:w-6 md:h-6 text-warning-600 dark:text-warning-400"})})]})}),(0,a.jsx)("div",{className:"card",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("p",{className:"text-xs md:text-sm font-medium text-gray-500 dark:text-gray-400",children:e("revenueToday")}),(0,a.jsxs)("p",{className:"text-2xl md:text-3xl font-bold text-gray-900 dark:text-white mt-1 md:mt-2",children:["R$ ",y.revenue.toLocaleString(s)]}),(0,a.jsxs)("p",{className:"text-xs md:text-sm text-success-600 dark:text-success-400 mt-1 flex items-center",children:[(0,a.jsx)(n.Z,{className:"w-3 h-3 md:w-4 md:h-4 mr-1"}),"+12% ",e("vsYesterday")]})]}),(0,a.jsx)("div",{className:"w-10 h-10 md:w-12 md:h-12 bg-success-100 dark:bg-success-900/30 rounded-lg flex items-center justify-center flex-shrink-0",children:(0,a.jsx)(c.Z,{className:"w-5 h-5 md:w-6 md:h-6 text-success-600 dark:text-success-400"})})]})}),(0,a.jsx)("div",{className:"card",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("p",{className:"text-xs md:text-sm font-medium text-gray-500 dark:text-gray-400",children:e("pending")}),(0,a.jsx)("p",{className:"text-2xl md:text-3xl font-bold text-gray-900 dark:text-white mt-1 md:mt-2",children:y.pending}),(0,a.jsxs)("p",{className:"text-xs md:text-sm text-gray-500 dark:text-gray-400 mt-1",children:[y.cancelled," ",e("cancelled")]})]}),(0,a.jsx)("div",{className:"w-10 h-10 md:w-12 md:h-12 bg-danger-100 dark:bg-danger-900/30 rounded-lg flex items-center justify-center flex-shrink-0",children:(0,a.jsx)(x,{className:"w-5 h-5 md:w-6 md:h-6 text-danger-600 dark:text-danger-400"})})]})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-3 md:gap-6",children:[(0,a.jsxs)("div",{className:"lg:col-span-2 card",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4 md:mb-6",children:[(0,a.jsx)("h2",{className:"text-lg md:text-xl font-bold text-gray-900 dark:text-white",children:e("todaysAgenda")}),(0,a.jsx)(h.default,{href:"/".concat(s,"/calendar"),className:"text-xs md:text-sm text-primary-600 dark:text-primary-400 hover:text-primary-700 dark:hover:text-primary-300",children:e("viewCalendar")})]}),(0,a.jsx)("div",{className:"space-y-3 max-h-[500px] overflow-y-auto",children:0===f.length?(0,a.jsxs)("div",{className:"text-center py-12 text-gray-500 dark:text-gray-400",children:[(0,a.jsx)(d.Z,{className:"w-12 h-12 mx-auto mb-3 text-gray-300 dark:text-gray-600"}),(0,a.jsx)("p",{children:e("noAppointments")})]}):f.map(e=>{var t,s,r,l;return(0,a.jsxs)("div",{className:"flex items-center space-x-4 p-4 rounded-lg border border-gray-200 dark:border-gray-700 hover:border-primary-300 dark:hover:border-primary-600 hover:bg-primary-50 dark:hover:bg-primary-900/10 transition-colors",children:[(0,a.jsxs)("div",{className:"text-center min-w-[80px]",children:[(0,a.jsx)("p",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:e.startTime}),(0,a.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[e.duration," min"]})]}),(0,a.jsx)("div",{className:"w-1 h-12 rounded",style:{backgroundColor:(null===(t=e.professional)||void 0===t?void 0:t.color)||"#3B82F6"}}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsxs)("p",{className:"font-semibold text-gray-900 dark:text-white",children:[null===(s=e.patient)||void 0===s?void 0:s.firstName," ",null===(r=e.patient)||void 0===r?void 0:r.lastName]}),(0,a.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:[null===(l=e.professional)||void 0===l?void 0:l.name," â€¢ ",e.specialty]}),(0,a.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:e.room})]}),(0,a.jsxs)("div",{className:"text-right",children:[v(e.status),(0,a.jsxs)("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:["R$ ",e.price.toFixed(2)]})]})]},e.id)})})]}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"card",children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4",children:e("queueManagement")}),(0,a.jsx)("div",{className:"space-y-3",children:0===l.eG.filter(e=>"waiting"===e.status).length?(0,a.jsxs)("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:[(0,a.jsx)(m.Z,{className:"w-8 h-8 mx-auto mb-2 text-gray-300 dark:text-gray-600"}),(0,a.jsx)("p",{className:"text-sm",children:e("noQueue")})]}):l.eG.filter(e=>"waiting"===e.status).map(e=>(0,a.jsxs)("div",{className:"flex items-center space-x-3 p-3 rounded-lg bg-warning-50 border border-warning-200",children:[(0,a.jsx)("div",{className:"w-8 h-8 bg-warning-600 rounded-full flex items-center justify-center text-white font-bold",children:e.position}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("p",{className:"font-medium text-gray-900 text-sm",children:e.patientName}),(0,a.jsx)("p",{className:"text-xs text-gray-600",children:e.professionalName})]}),(0,a.jsxs)("div",{className:"text-xs text-gray-500",children:[(0,a.jsx)(o.Z,{className:"w-4 h-4 inline mr-1"}),e.estimatedWaitTime," min"]})]},e.id))})]}),(0,a.jsxs)("div",{className:"card",children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4",children:e("upcomingAppointments")}),(0,a.jsx)("div",{className:"space-y-3",children:0===N.length?(0,a.jsxs)("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:[(0,a.jsx)(d.Z,{className:"w-8 h-8 mx-auto mb-2 text-gray-300 dark:text-gray-600"}),(0,a.jsx)("p",{className:"text-sm",children:e("noAppointments")})]}):N.map(e=>{var t,r,l;return(0,a.jsxs)("div",{className:"p-3 rounded-lg border border-gray-200 dark:border-gray-700 hover:border-primary-300 dark:hover:border-primary-600 transition-colors",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)("p",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:new Date(e.date).toLocaleDateString(s,{day:"2-digit",month:"short"})}),(0,a.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:e.startTime})]}),(0,a.jsxs)("p",{className:"text-sm text-gray-900 dark:text-white",children:[null===(t=e.patient)||void 0===t?void 0:t.firstName," ",null===(r=e.patient)||void 0===r?void 0:r.lastName]}),(0,a.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:null===(l=e.professional)||void 0===l?void 0:l.name})]},e.id)})})]}),(0,a.jsxs)("div",{className:"card",children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4",children:e("availableProfessionals")}),(0,a.jsx)("div",{className:"space-y-2",children:l.cU.slice(0,5).map(t=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-2 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700/50",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:t.color}}),(0,a.jsxs)("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:[t.name.split(" ")[0]," ",t.name.split(" ")[t.name.split(" ").length-1]]})]}),(0,a.jsx)("span",{className:"badge badge-success text-xs",children:e("available")})]},t.id))})]})]})]})]})}},1723:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(9205).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},525:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(9205).Z)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]])}},function(e){e.O(0,[216,875,930,971,117,744],function(){return e(e.s=5331)}),_N_E=e.O()}]);