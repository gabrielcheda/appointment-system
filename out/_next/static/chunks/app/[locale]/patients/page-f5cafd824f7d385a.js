(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[274],{9152:function(e,s,a){Promise.resolve().then(a.bind(a,9085))},9085:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return p}});var t=a(7437),r=a(2265),l=a(1930);let i=(0,a(9205).Z)("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);var n=a(3247),c=a(740),d=a(8736),x=a(3041),m=a(9345),o=a(1047),h=a(7648);function p(){let[e,s]=(0,r.useState)([]),[a,p]=(0,r.useState)([]),[j,y]=(0,r.useState)(""),[g,N]=(0,r.useState)(null);(0,r.useEffect)(()=>{let e=l.jf.map(e=>({...e,appointmentCount:l.Q7.filter(s=>s.patientId===e.id).length}));s(e),p(e)},[]),(0,r.useEffect)(()=>{j?p(e.filter(e=>e.firstName.toLowerCase().includes(j.toLowerCase())||e.lastName.toLowerCase().includes(j.toLowerCase())||e.cpf.includes(j)||e.email.toLowerCase().includes(j.toLowerCase())||e.phone.includes(j))):p(e)},[j,e]);let u=e=>{let s=new Date,a=new Date(e),t=s.getFullYear()-a.getFullYear(),r=s.getMonth()-a.getMonth();return(r<0||0===r&&s.getDate()<a.getDate())&&t--,t};return(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Pacientes"}),(0,t.jsxs)("p",{className:"text-gray-500 mt-1",children:[a.length," paciente(s) cadastrado(s)"]})]}),(0,t.jsxs)("button",{className:"btn btn-primary flex items-center space-x-2",children:[(0,t.jsx)(i,{className:"w-5 h-5"}),(0,t.jsx)("span",{children:"Novo Paciente"})]})]}),(0,t.jsx)("div",{className:"card mb-6",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{className:"md:col-span-2",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Buscar Paciente"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(n.Z,{className:"w-5 h-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),(0,t.jsx)("input",{type:"text",value:j,onChange:e=>y(e.target.value),placeholder:"Nome, CPF, email ou telefone...",className:"input pl-10"})]})]}),(0,t.jsx)("div",{className:"flex items-end",children:(0,t.jsxs)("button",{className:"btn btn-secondary w-full flex items-center justify-center space-x-2",children:[(0,t.jsx)(c.Z,{className:"w-5 h-5"}),(0,t.jsx)("span",{children:"Filtros Avan\xe7ados"})]})})]})}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[(0,t.jsxs)("div",{className:"card",children:[(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Total de Pacientes"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:e.length})]}),(0,t.jsxs)("div",{className:"card",children:[(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Novos Este M\xeas"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-primary-600",children:e.filter(e=>{let s=new Date(e.createdAt),a=new Date;return s.getMonth()===a.getMonth()&&s.getFullYear()===a.getFullYear()}).length})]}),(0,t.jsxs)("div",{className:"card",children:[(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Com Conv\xeanio"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-success-600",children:e.filter(e=>e.insuranceInfo).length})]}),(0,t.jsxs)("div",{className:"card",children:[(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Ativos"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:e.filter(e=>e.lastVisit).length})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,t.jsx)("div",{className:"lg:col-span-2",children:(0,t.jsx)("div",{className:"card",children:(0,t.jsx)("div",{className:"space-y-3 max-h-[700px] overflow-y-auto",children:0===a.length?(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)(i,{className:"w-16 h-16 mx-auto text-gray-300 mb-4"}),(0,t.jsx)("p",{className:"text-gray-500",children:"Nenhum paciente encontrado"})]}):a.map(e=>(0,t.jsxs)("div",{onClick:()=>N(e),className:"p-4 rounded-lg border-2 cursor-pointer transition-all ".concat((null==g?void 0:g.id)===e.id?"border-primary-600 bg-primary-50":"border-gray-200 hover:border-primary-300"),children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("h3",{className:"font-semibold text-gray-900",children:[e.firstName," ",e.lastName]}),(0,t.jsxs)("p",{className:"text-sm text-gray-600",children:[u(e.birthDate)," anos â€¢"," ","male"===e.gender?"Masculino":"female"===e.gender?"Feminino":"Outro"]})]}),e.insuranceInfo&&(0,t.jsx)("span",{className:"badge badge-primary text-xs",children:e.insuranceInfo.provider})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm text-gray-600",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(d.Z,{className:"w-4 h-4"}),(0,t.jsx)("span",{children:e.cpf})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(x.Z,{className:"w-4 h-4"}),(0,t.jsx)("span",{children:e.phone})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(m.Z,{className:"w-4 h-4"}),(0,t.jsx)("span",{className:"truncate",children:e.email})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(o.Z,{className:"w-4 h-4"}),(0,t.jsxs)("span",{children:[e.appointmentCount," consultas"]})]})]}),Array.isArray(e.medicalHistory.conditions)&&e.medicalHistory.conditions.length>0&&(0,t.jsx)("div",{className:"mt-3 pt-3 border-t border-gray-200",children:(0,t.jsx)("div",{className:"flex flex-wrap gap-1",children:e.medicalHistory.conditions.slice(0,3).map(e=>(0,t.jsx)("span",{className:"badge badge-warning text-xs",children:e},e))})})]},e.id))})})}),(0,t.jsx)("div",{children:(0,t.jsx)("div",{className:"card sticky top-6",children:g?(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,t.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"Detalhes do Paciente"}),(0,t.jsx)("button",{className:"text-primary-600 hover:text-primary-700 text-sm font-medium",children:"Editar"})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-semibold text-gray-900 mb-2",children:"Informa\xe7\xf5es Pessoais"}),(0,t.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-gray-500",children:"Nome Completo:"}),(0,t.jsxs)("span",{className:"text-gray-900 font-medium",children:[g.firstName," ",g.lastName]})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-gray-500",children:"CPF:"}),(0,t.jsx)("span",{className:"text-gray-900 font-medium",children:g.cpf})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-gray-500",children:"Data de Nasc.:"}),(0,t.jsx)("span",{className:"text-gray-900 font-medium",children:new Date(g.birthDate).toLocaleDateString("pt-BR")})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-gray-500",children:"Idade:"}),(0,t.jsxs)("span",{className:"text-gray-900 font-medium",children:[u(g.birthDate)," anos"]})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-gray-500",children:"Tipo Sangu\xedneo:"}),(0,t.jsx)("span",{className:"text-gray-900 font-medium",children:g.medicalHistory.bloodType||"N/A"})]})]})]}),(0,t.jsxs)("div",{className:"pt-4 border-t border-gray-200",children:[(0,t.jsx)("h3",{className:"font-semibold text-gray-900 mb-2",children:"Contato"}),(0,t.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(x.Z,{className:"w-4 h-4 text-gray-400"}),(0,t.jsx)("span",{className:"text-gray-900",children:g.phone})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(m.Z,{className:"w-4 h-4 text-gray-400"}),(0,t.jsx)("span",{className:"text-gray-900",children:g.email})]})]})]}),(0,t.jsxs)("div",{className:"pt-4 border-t border-gray-200",children:[(0,t.jsx)("h3",{className:"font-semibold text-gray-900 mb-2",children:"Endere\xe7o"}),(0,t.jsxs)("p",{className:"text-sm text-gray-600",children:[g.address.street,", ",g.address.number,g.address.complement&&", ".concat(g.address.complement),(0,t.jsx)("br",{}),g.address.neighborhood," - ",g.address.city,"/",g.address.state,(0,t.jsx)("br",{}),"CEP: ",g.address.zipCode]})]}),g.insuranceInfo&&(0,t.jsxs)("div",{className:"pt-4 border-t border-gray-200",children:[(0,t.jsx)("h3",{className:"font-semibold text-gray-900 mb-2",children:"Conv\xeanio"}),(0,t.jsxs)("div",{className:"space-y-1 text-sm",children:[(0,t.jsx)("p",{className:"text-gray-900 font-medium",children:g.insuranceInfo.provider}),(0,t.jsxs)("p",{className:"text-gray-600",children:["N\xba: ",g.insuranceInfo.planNumber]}),(0,t.jsxs)("p",{className:"text-gray-600",children:["Validade:"," ",new Date(g.insuranceInfo.validity).toLocaleDateString("pt-BR")]})]})]}),(0,t.jsxs)("div",{className:"pt-4 border-t border-gray-200",children:[(0,t.jsx)("h3",{className:"font-semibold text-gray-900 mb-2",children:"Hist\xf3rico M\xe9dico"}),(0,t.jsxs)("div",{className:"space-y-3 text-sm",children:[Array.isArray(g.medicalHistory.allergies)&&g.medicalHistory.allergies.length>0&&(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-gray-500 mb-1",children:"Alergias:"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-1",children:g.medicalHistory.allergies.map(e=>(0,t.jsx)("span",{className:"badge badge-danger text-xs",children:e},e))})]}),Array.isArray(g.medicalHistory.conditions)&&g.medicalHistory.conditions.length>0&&(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-gray-500 mb-1",children:"Condi\xe7\xf5es:"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-1",children:g.medicalHistory.conditions.map(e=>(0,t.jsx)("span",{className:"badge badge-warning text-xs",children:e},e))})]}),Array.isArray(g.medicalHistory.medications)&&g.medicalHistory.medications.length>0&&(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-gray-500 mb-1",children:"Medicamentos:"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-1",children:g.medicalHistory.medications.map(e=>(0,t.jsx)("span",{className:"badge badge-primary text-xs",children:e},e))})]})]})]}),(0,t.jsxs)("div",{className:"pt-4 border-t border-gray-200",children:[(0,t.jsx)("h3",{className:"font-semibold text-gray-900 mb-2",children:"Estat\xedsticas"}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,t.jsxs)("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[(0,t.jsx)("p",{className:"text-2xl font-bold text-primary-600",children:g.totalVisits}),(0,t.jsx)("p",{className:"text-xs text-gray-600",children:"Consultas"})]}),(0,t.jsxs)("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[(0,t.jsx)("p",{className:"text-2xl font-bold text-danger-600",children:g.noShowCount}),(0,t.jsx)("p",{className:"text-xs text-gray-600",children:"Faltas"})]})]})]}),(0,t.jsxs)("div",{className:"pt-4 border-t border-gray-200 space-y-2",children:[(0,t.jsxs)(h.default,{href:"/appointments/new",className:"btn btn-primary w-full flex items-center justify-center space-x-2",children:[(0,t.jsx)(o.Z,{className:"w-5 h-5"}),(0,t.jsx)("span",{children:"Agendar Consulta"})]}),(0,t.jsx)("button",{className:"btn btn-secondary w-full",children:"Ver Hist\xf3rico Completo"})]})]})]}):(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)(i,{className:"w-16 h-16 mx-auto text-gray-300 mb-4"}),(0,t.jsx)("p",{className:"text-gray-500",children:"Selecione um paciente para ver os detalhes"})]})})})]})]})}},1047:function(e,s,a){"use strict";a.d(s,{Z:function(){return t}});let t=(0,a(9205).Z)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},8736:function(e,s,a){"use strict";a.d(s,{Z:function(){return t}});let t=(0,a(9205).Z)("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])},740:function(e,s,a){"use strict";a.d(s,{Z:function(){return t}});let t=(0,a(9205).Z)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]])},9345:function(e,s,a){"use strict";a.d(s,{Z:function(){return t}});let t=(0,a(9205).Z)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]])},3041:function(e,s,a){"use strict";a.d(s,{Z:function(){return t}});let t=(0,a(9205).Z)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]])},3247:function(e,s,a){"use strict";a.d(s,{Z:function(){return t}});let t=(0,a(9205).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])}},function(e){e.O(0,[216,930,971,117,744],function(){return e(e.s=9152)}),_N_E=e.O()}]);